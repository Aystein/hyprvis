import { LassoUsage } from './LassoUsage';
import { LassoControlled } from './LassoControlled';
import { Meta, Source } from '@storybook/blocks';


### Usage

```tsx
import { useRef } from "react";
import { Brushable } from "../Brushable";
import { Center } from "../Center";
import { lassoToSvgPath, useLasso } from "hyprvis";

export function Demo1() {
    const ref = useRef();

    const { lasso } = useLasso(ref);

    return <Center>
        <Brushable ref={ref}>
            { lasso ? <path d={lassoToSvgPath(lasso)} fill="none"
            stroke="black" strokeDasharray="4" strokeWidth={2} /> : null }
        </Brushable>
    </Center>
}
```

<LassoUsage />

### API

```tsx
interface UseInteractionsProps {
    /**
     * The minimum distance the mouse has to be dragged before the onDrag event is emitted.
     */
    minimumDragDistance?: number;

    /**
     * Called when the mouse hast been dragged at least minimumDragDistance
     * pixels from the start point. This event is emitted at max once per frame. 
     */
    onDrag?: (event: DragEvent) => void;

    /**
     * Called when the mouse has been clicked and NOT dragged at least minimumDragDistance pixels.
     */
    onClick?: (event: ClickEvent) => void;

    /**
     * Called when the mouse moves over the element while not dragging.
     */
    onMouseMove?: (position: Vector) => void;

    /**
     * If set to overlay, a full screen overlay div will be added to the dom
     * after the mouse down event. This is useful if you want to preserve the
     * cursor of the element while dragging.
     * 
     * Otherwise the window will be used as the target for mouse move events.
     */
    moveTarget?: 'window' | 'overlay';
}
```


### Controlled

<LassoControlled />

```tsx
export function LassoControlled() {
    const ref = useRef();
    const [lasso, setLasso] = useState<{ x: number, y: number }[]>();

    useLasso(ref, {
        value: lasso,
        onChange: setLasso,
    });

    return <Center>
        <Brushable ref={ref}>
            { lasso ? <path d={lassoToSvgPath(lasso)} fill="none" stroke="black" strokeDasharray="4" strokeWidth={2} /> : null }
        </Brushable>
    </Center>
}
```