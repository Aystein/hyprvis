"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[782],{1677:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>p,contentTitle:()=>x,default:()=>j,frontMatter:()=>u,metadata:()=>g,toc:()=>v});var o=s(4848),a=s(8453),t=s(6540),i=s(2992),r=s(9851),l=s(8423),c=s(9292),d=s(7058);function h(){const e=(0,t.useRef)(),n=(0,t.useMemo)((()=>(0,i.A)().domain(r.b8).range([0,300])),[]),s=(0,t.useMemo)((()=>(0,i.A)().domain(r.iK).range([300,0])),[]),[a,h]=(0,t.useState)(),{value:u}=(0,d.WD)(e,{onChangeEnd:e=>{if(e){const o=[];r.Ni.forEach(((a,t)=>{(0,d.gf)(e,{x:n(a.x),y:s(a.y)})&&o.push(t)})),h(o)}else h(void 0)}});return(0,o.jsx)(c.o,{children:(0,o.jsxs)(l.P,{ref:e,children:[(0,o.jsx)(r.fB,{xScale:n,yScale:s,selection:a}),u?(0,o.jsx)("path",{d:(0,d.nF)(u),fill:"none",stroke:"black",strokeDasharray:"4",strokeWidth:2}):null]})})}const u={},x=void 0,g={id:"hooks/useLasso",title:"useLasso",description:"Demo",source:"@site/docs/hooks/useLasso.mdx",sourceDirName:"hooks",slug:"/hooks/useLasso",permalink:"/hyprvis/hooks/useLasso",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"useBrush",permalink:"/hyprvis/hooks/useBrush"},next:{title:"usePan",permalink:"/hyprvis/hooks/usePan"}},p={},v=[{value:"Demo",id:"demo",level:3},{value:"Usage",id:"usage",level:3},{value:"API",id:"api",level:3},{value:"<code>value</code>",id:"value",level:4},{value:"<code>onChange</code>",id:"onchange",level:4},{value:"<code>onChangeEnd</code>",id:"onchangeend",level:4},{value:"<code>minDistanceToCreatePoint</code>",id:"mindistancetocreatepoint",level:4}];function f(e){const n={code:"code",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h3,{id:"demo",children:"Demo"}),"\n",(0,o.jsx)(h,{}),"\n",(0,o.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'export function LassoUsage() {\n    const ref = useRef();\n\n    const xScale = useMemo(() => {\n        return scaleLinear().domain(dinoDomainX).range([0, 300]);\n    }, []);\n\n    const yScale = useMemo(() => {\n        return scaleLinear().domain(dinoDomainY).range([300, 0]);\n    }, []);\n\n    const { value } = useLasso(ref, {\n        onChangeEnd: (lasso) => {\n            const selection = [];\n            dinoData.forEach((point, i) => {\n                if (checkForInclusion(lasso, { x: xScale(point.x), y: yScale(point.y) })) {\n                    selection.push(i);\n                }\n            });\n            setSelection(selection);\n        }\n    });\n\n    const [selection, setSelection] = useState<number[]>();\n\n\n    \n    return <Center>\n        <Brushable ref={ref}>\n            <DinoData xScale={xScale} yScale={yScale} selection={selection} />\n            { value ? <path d={lassoToSvgPath(value)} fill="none" stroke="black" strokeDasharray="4" strokeWidth={2} /> : null }\n        </Brushable>\n    </Center>\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"api",children:"API"}),"\n",(0,o.jsx)(n.h4,{id:"value",children:(0,o.jsx)(n.code,{children:"value"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"value?: LassoValue\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Optional value that can be used to control the ",(0,o.jsx)(n.code,{children:"useLasso"})," hook in conjunction with ",(0,o.jsx)(n.code,{children:"onChange"}),"."]}),"\n",(0,o.jsx)(n.h4,{id:"onchange",children:(0,o.jsx)(n.code,{children:"onChange"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"onChange?: (value: LassoValue) => void\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Event that is fired whenever the lasso changes. This is useful for controlling the state of this hook. If you want to react when the user has finished drawing the lasso use ",(0,o.jsx)(n.code,{children:"onChangeEnd"})," instead."]}),"\n",(0,o.jsx)(n.h4,{id:"onchangeend",children:(0,o.jsx)(n.code,{children:"onChangeEnd"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"onChangeEnd?: (value: LassoValue) => void\n"})}),"\n",(0,o.jsx)(n.p,{children:"Event that is fired when the user stops drawing the lasso. Use this event for selection purposes."}),"\n",(0,o.jsx)(n.h4,{id:"mindistancetocreatepoint",children:(0,o.jsx)(n.code,{children:"minDistanceToCreatePoint"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"minDistanceToCreatePoint?: number\n"})}),"\n",(0,o.jsx)(n.p,{children:"Amount of pixels that have to be dragged to create a new control point for the lasso."})]})}function j(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(f,{...e})}):f(e)}},8423:(e,n,s)=>{s.d(n,{P:()=>t});var o=s(6540),a=s(4848);const t=(0,o.forwardRef)((function(e,n){return(0,a.jsx)("div",{style:{width:300,height:300,border:"1px solid rgb(222, 226, 230)",borderRadius:4,position:"relative"},children:(0,a.jsx)("svg",{ref:n,style:{width:"100%",height:"100%"},children:e.children})})}))},9292:(e,n,s)=>{s.d(n,{o:()=>a});var o=s(4848);function a(e){let{children:n}=e;return(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:16},children:n})}}}]);